function saveBio(){$.ajax({type:"POST",url:$("form").attr("action"),data:new FormData($("form")[0]),contentType:!1,processData:!1,dataType:"json",beforeSend:function(){$("#loading").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>')},complete:function(){$("#loading span").remove()},success:function(a){$("input[name=_token]").val(a.token),a.error?$.notify({message:a.message},{type:"danger",placement:{from:"top",align:"right"}}):($.notify({message:a.message},{type:"success",placement:{from:"top",align:"right"}}),a.html&&$("body").append(a.html),$("input[type=file]").val(""),$(".card-preview iframe").attr("src",iframesrc+"?token="+Date.now()))}})}function setColor(a,e,t){$("input[name=themeid]").val(""),t.val(e.toHexString())}function customTheme(a,e,t,l){$("input[name=themeid]").val(""),$("input[name=theme]").val(a),$("input[name=mode]").val("custom"),$("#buttontextcolor").val(t),$("#buttontextcolor").spectrum({color:t,showInput:!0,preferredFormat:"hex",move:function(a){setColor("#preview .btn-custom",a,$(this))},hide:function(a){setColor("#preview .btn-custom",a,$(this)),saveBio()}}),$("#buttoncolor").val(e),$("#buttoncolor").spectrum({color:e,showInput:!0,preferredFormat:"hex",move:function(a){setColor("#preview .btn-custom",a,$(this))},hide:function(a){setColor("#preview .btn-custom",a,$(this)),saveBio()}}),$("#textcolor").val(l),$("#textcolor").spectrum({color:l,showInput:!0,preferredFormat:"hex",move:function(a){setColor("#preview, #preview h3 > span, #preview p",a,$(this))},hide:function(a){setColor("#preview, #preview h3 > span  #preview p",a,$(this)),saveBio()}})}function changeTheme(a,e,t,l,s,o,i="single",n="rectangle",r="-45",d=!1,c="#000",p=!1){$("input[name=themeid]").val(""),p&&$("input[name=themeid]").val(p),"gradient"==i?($(".bgtype").removeClass("show"),$("#gradient").addClass("show"),$("[data-trigger=bgtype]").removeClass("border-secondary"),$("#forgradient").addClass("border-secondary"),$("input[name=theme]").val(""),$("input[name=mode]").val("gradient"),$("#bgst").val(e),$("#bgst").spectrum({color:e,showInput:!0,preferredFormat:"hex",move:function(a){setColor("#preview .card",a,$(this))},hide:function(a){setColor("#preview .card",a,$(this)),saveBio()}}),$("#bgsp").val(t),$("#bgsp").spectrum({color:t,showInput:!0,preferredFormat:"hex",move:function(a){setColor("#preview .card",a,$(this))},hide:function(a){setColor("#preview .card",a,$(this)),saveBio()}})):"image"==i?($(".bgtype").removeClass("show"),$("#image").addClass("show"),$("[data-trigger=bgtype]").removeClass("border-secondary"),$("#forimage").addClass("border-secondary"),$("input[name=theme]").val(""),$("input[name=mode]").val("image")):($(".bgtype").removeClass("show"),$("#singlecolor").addClass("show"),$("[data-trigger=bgtype]").removeClass("border-secondary"),$("#forsinglecolor").addClass("border-secondary"),$("input[name=theme]").val(""),$("input[name=mode]").val("singlecolor")),$("#bg").val(a),$("#bg").spectrum({color:a,showInput:!0,preferredFormat:"hex",move:function(a){setColor("#preview .card",a,$(this))},hide:function(a){setColor("#preview .card",a,$(this)),saveBio()}}),$("#buttontextcolor").val(s),$("#buttontextcolor").spectrum({color:s,showInput:!0,preferredFormat:"hex",move:function(a){setColor("#preview .btn-custom",a,$(this))},hide:function(a){setColor("#preview .btn-custom",a,$(this)),saveBio()}}),$("#buttoncolor").val(l),$("#buttoncolor").spectrum({color:l,showInput:!0,preferredFormat:"hex",move:function(a){setColor("#preview .btn-custom",a,$(this))},hide:function(a){setColor("#preview .btn-custom",a,$(this)),saveBio()}}),$("#textcolor").val(o),$("#textcolor").spectrum({color:o,showInput:!0,preferredFormat:"hex",move:function(a){setColor("#preview, #preview h3 > span, #preview p",a,$(this))},hide:function(a){setColor("#preview, #preview h3 > span  #preview p",a,$(this)),saveBio()}}),d&&$("#shadow").val(d),n&&$("#buttonstyle").val(n),c&&($("#shadowcolor").val(c),$("#shadowcolor").spectrum({color:c,showInput:!0,preferredFormat:"hex",move:function(a){setColor("#preview, #preview h3 > span, #preview p",a,$(this))},hide:function(a){setColor("#preview, #preview h3 > span  #preview p",a,$(this)),saveBio()}}))}function fntext(a,e=null,t=null){if(e)var l=e.text;else l="";null==t&&(t=(Math.random()+1).toString(36).substring(2));let s='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=text] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse row mt-2" id="container-'+t+'"><div class="col-md-12"><div class="form-group"><input type="hidden" name="data['+slug(t)+'][type]" value="text"><textarea id="'+t+'_editor" class="form-control p-2" name="data['+slug(t)+'][text]" placeholder="e.g. some description here">'+l+"</textarea></div></div></div></div>";$("#linkcontent").append(s),$("#"+t+"_editor").summernote({toolbar:[["style",["bold","italic","underline","clear"]],["para",["link","ul","ol"]]],height:100}),$("#container-"+t+" .note-editable").blur(function(){saveBio()})}function fnlink(a,e=null,t=null){var l="",s="",o="",i="",n=null,r=0,d=0;if(e)l=e.text,i=e.icon,o=e.animation,s=e.link,n=e.urlid,r=e.clicks,d=e.opennew;null==t&&(t=(Math.random()+1).toString(36).substring(2));let c='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i>'+(null!==r?'<span class="text-muted"><i class="fa fa-mouse me-1"></i> '+r+" "+(null!==n?'<a href="'+appurl+n+'/stats" class="ms-1 text-muted" target="_blank">('+biolang.stats+")</a>":"")+" </span>":"")+'<a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=link] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse" id="container-'+t+'"><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.icon+'</label><input type="text" class="form-control p-2 icon" name="data['+slug(t)+'][icon]" value="'+i+'" id="'+t+'_icon" placeholder="e.g. fab fa-twitter"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.text+'</label><input type="text" class="form-control p-2 text" name="data['+slug(t)+'][text]" value="'+l+'" placeholder="e.g. My Site"></div></div></div><div class="row mt-3"><div class="col-md-12"><div class="form-group"><div class="d-flex"><label class="form-label fw-bold">'+biolang.link+'</label><div class="form-check form-switch ms-auto"><input class="form-check-input" type="checkbox" data-binary="true" id="data['+slug(t)+'][opennew]" name="data['+slug(t)+'][opennew]" value="1"'+(1==d?"checked":"")+'><label class="form-check-label fw-bold" for="data['+slug(t)+'][opennew]">'+biolang.opennew+'</label></div></div><input type="hidden" name="data['+slug(t)+'][type]" value="link"><input type="text" class="form-control p-2" name="data['+slug(t)+'][link]" value="'+s+'" id="'+t+'_link" placeholder="e.g. https://"></div></div></div><div class="row mt-2"><div class="col-md-4"><div class="form-group"><label class="form-label fw-bold">'+biolang.animation+'</label><select name="data['+slug(t)+'][animation]" class="animation form-select mb-2 p-2"><option value="none" '+("none"==o?"selected":"")+">"+biolang.none+'</option><option value="shake" '+("shake"==o?"selected":"")+">"+biolang.shake+'</option><option value="scale" '+("scale"==o?"selected":"")+">"+biolang.scale+'</option><option value="jello" '+("jello"==o?"selected":"")+">"+biolang.jello+'</option><option value="vibrate" '+("vibrate"==o?"selected":"")+">"+biolang.vibrate+'</option><option value="wobble" '+("wobble"==o?"selected":"")+">"+biolang.wobble+"</option></select></div></div></div></div></div></div>";$("#linkcontent").append(c),$("#"+t+"_icon").iconpicker(),$("#"+t+"_icon").on("iconpickerSelected",function(){saveBio()}),$("#"+t+"_link").change(function(a){if(""==$(this).val())return a.preventDefault(),$.notify({message:biolang.error.link},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fnyoutube(a,e=null,t=null){let l=/http(?:s?):\/\/(?:www\.)?youtu(?:be\.com\/(watch|playlist)\?(v|list)=|\.be\/)([\w\-\_]*)(&(amp;)?‌​[\w\?‌​=]*)?/i;var s="";if(e)s=e.link;null==t&&(t=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0 py-3"><a class="text-dark d-block" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=youtube] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse row mt-2" id="container-'+t+'"><div class="col-md-12"><div class="form-group"><label class="form-label fw-bold">'+biolang.link+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="youtube"><input type="text" class="form-control p-2" name="data['+slug(t)+'][link]" value="'+s+'" placeholder="e.g. https://"><p class="form-text">'+biolang.tip.youtube+"</p>";$("#linkcontent").append(o),$("#container-"+t+" input[type=text]").change(function(a){if(!$(this).val().match(l))return a.preventDefault(),$.notify({message:biolang.error.youtube},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fnwhatsapp(a,e=null,t=null){var l="",s="";if(e)l=e.label,s=e.phone;null==t&&(t=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=whatsapp] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse row mt-2" id="container-'+t+'"><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.phone+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="whatsapp"><input type="text" class="form-control p-2" name="data['+slug(t)+'][phone]" value="'+s+'" placeholder=""></div></div><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.label+'</label><input type="text" class="form-control p-2" name="data['+slug(t)+'][label]" value="'+l+'" placeholder=""></div></div></div></div></div>';$("#linkcontent").append(o)}function fnwhatsappmessage(a,e=null,t=null){var l="",s="",o="";if(e)l=e.label,s=e.phone;null==t&&(t=(Math.random()+1).toString(36).substring(2));let i='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=whatsappmessage] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse row mt-2" id="container-'+t+'"><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.phone+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="whatsappmessage"><input type="text" class="form-control p-2" name="data['+slug(t)+'][phone]" value="'+s+'" placeholder=""></div></div><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.label+'</label><input type="text" class="form-control p-2" name="data['+slug(t)+'][label]" value="'+l+'" placeholder=""></div></div><div class="col-md-12 mt-3"><div class="form-group"><label class="form-label fw-bold">'+biolang.message+'</label><textarea class="form-control p-2" name="data['+slug(t)+'][message]" placeholder="">'+o+"</textarea></div></div></div></div></div>";$("#linkcontent").append(i)}function fnphone(a,e=null,t=null){var l="",s="";if(e)l=e.label,s=e.phone;null==t&&(t=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=phone] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse row mt-2" id="container-'+t+'"><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.phone+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="phone"><input type="text" class="form-control p-2" name="data['+slug(t)+'][phone]" value="'+s+'" placeholder=""></div></div><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.label+'</label><input type="text" class="form-control p-2" name="data['+slug(t)+'][label]" value="'+l+'" placeholder=""></div></div></div></div></div>';$("#linkcontent").append(o)}function fnspotify(a,e=null,t=null){let l=/^https:\/\/open.spotify.com\/(track|playlist|episode)\/([a-zA-Z0-9]+)(.*)$/i;var s="";if(e)s=e.link;null==t&&(t=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=spotify] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse row mt-2" id="container-'+t+'"><div class="col-md-12"><div class="form-group"><label class="form-label fw-bold">'+biolang.link+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="spotify"><input type="text" class="form-control p-2" name="data['+slug(t)+'][link]" value="'+s+'" placeholder="e.g. https://"><p class="form-text">'+biolang.tip.spotify+"</p>";$("#linkcontent").append(o),$("#container-"+t+" input[type=text]").change(function(a){if(!$(this).val().match(l))return a.preventDefault(),$.notify({message:biolang.error.spotify},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fnitunes(a,e=null,t=null){let l=/^https:\/\/music.apple.com\/(.*)/i;var s="";if(e)s=e.link;null==t&&(t=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=itunes] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse row mt-2" id="container-'+t+'"><div class="col-md-12"><div class="form-group"><label class="form-label fw-bold">'+biolang.link+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="itunes"><input type="text" class="form-control p-2" name="data['+slug(t)+'][link]" value="'+s+'" placeholder="e.g. https://"></div></div></div></div>';$("#linkcontent").append(o),$("#container-"+t+" input[type=text]").change(function(a){if(!$(this).val().match(l))return a.preventDefault(),$.notify({message:biolang.error.itunes},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fnpaypal(a,e=null,t=null){if(e)var l=e.label,s=e.email,o=e.amount,i=e.currency;else l="",s="",o="",i="";null==t&&(t=(Math.random()+1).toString(36).substring(2));let n='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=paypal] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse" id="container-'+t+'"><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.text+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="paypal"><input type="text" class="form-control p-2" name="data['+slug(t)+'][label]" value="'+l+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.email+'</label><input type="text" class="form-control p-2" name="data['+slug(t)+'][email]" value="'+s+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.amount+'</label><input type="text" class="form-control p-2" name="data['+slug(t)+'][amount]" value="'+o+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.currency+'</label><input type="text" class="form-control p-2" name="data['+slug(t)+'][currency]" value="'+i+'"></div></div></div></div></div></div>';$("#linkcontent").append(n)}function fntiktok(a,e=null,t=null){let l=/^https?:\/\/(?:www|m)\.(?:tiktok.com)\/(.*)\/video\/(.*)/i;var s="";if(e)s=e.link;null==t&&(t=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=tiktok] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse row mt-2" id="container-'+t+'"><div class="col-md-12"><div class="form-group"><label class="form-label fw-bold">'+biolang.link+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="tiktok"><input type="text" class="form-control p-2" name="data['+slug(t)+'][link]" value="'+s+'" placeholder="e.g. https://"></div></div></div></div></div>';$("#linkcontent").append(o),$("#container-"+t+" input[type=text]").change(function(a){if(!$(this).val().match(l))return a.preventDefault(),$.notify({message:biolang.error.tiktok},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fntiktokprofile(a,e=null,t=null){let l=/^https?:\/\/(?:www|m)\.(?:tiktok.com)\/@(.*)/i;var s="";if(e)s=e.link;null==t&&(t=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=tiktokprofile] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse row mt-2" id="container-'+t+'"><div class="col-md-12"><div class="form-group"><label class="form-label fw-bold">'+biolang.link+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="tiktokprofile"><input type="text" class="form-control p-2" name="data['+slug(t)+'][link]" value="'+s+'" placeholder="e.g. https://www.tiktok.com/@..."></div></div></div></div></div>';$("#linkcontent").append(o),$("#container-"+t+" input[type=text]").change(function(a){if(!$(this).val().match(l))return a.preventDefault(),$.notify({message:biolang.error.tiktokprofile},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fnheading(a,e=null,t=null){var l="";if(e){l=e.text;var s=e.format,o=e.color}null==t&&(t=(Math.random()+1).toString(36).substring(2));let i='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=heading] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse row mt-2" id="container-'+t+'"><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.style+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="heading"><select name="data['+slug(t)+'][format]" class="form-select mb-2 p-2"><option value="h1" '+("h1"==s?"selected":"")+'>H1</option><option value="h2" '+("h2"==s?"selected":"")+'>H2</option><option value="h3" '+("h3"==s?"selected":"")+'>H3</option><option value="h4" '+("h4"==s?"selected":"")+'>H4</option><option value="h5" '+("h5"==s?"selected":"")+'>H5</option><option value="h6" '+("h6"==s?"selected":"")+'>H6</option></select></div></div><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.text+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="heading"><input type="text" class="form-control p-2" name="data['+slug(t)+'][text]" placeholder="e.g. Bio Page" value="'+l+'"></div></div><div class="col-md-4"><div class="form-group"><label class="form-label fw-bold">'+biolang.color+'</label><br><input type="color" data-trigger="color" name="data['+slug(t)+'][color]" value="'+o+'" class="form-control p-2"></div></div></div></div></div>';$("#linkcontent").append(i),$("[data-id="+t+"] [data-trigger=color]").spectrum({color:o,showInput:!0,preferredFormat:"hex",move:function(a){Color("#"+t,a,$(this))},hide:function(a){Color("#"+t,a,$(this)),saveBio()}})}function fndivider(a,e=null,t=null){if(e)var l=e.color,s=e.style,o=e.height;else l="",s="",o="";null===t&&(t=(Math.random()+1).toString(36).substring(2));let i='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=divider] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse row mt-2" id="container-'+t+'"><input type="hidden" name="data['+slug(t)+'][type]" value="divider"><div class="col-md-4"><div class="form-group"><label class="form-label fw-bold">'+biolang.color+'</label><br><input type="color" data-trigger="color" name="data['+slug(t)+'][color]" value="'+l+'" class="form-control p-2"></select></div></div><div class="col-md-4"><label class="form-label fw-bold">'+biolang.height+'</label><br><div class="form-group"><input type="number" min="1" max="10" name="data['+slug(t)+'][height]" value="'+o+'" data-trigger="height" class="form-control p-2"></select></div></div><div class="col-md-4"><label class="form-label fw-bold">'+biolang.style+'</label><br><div class="form-group"><select name="data['+slug(t)+'][style]" data-trigger="style" class="form-select mb-2 p-2"><option value="solid" '+("solid"==s?"selected":"")+">"+biolang.solid+'</option><option value="dotted" '+("dotted"==s?"selected":"")+">"+biolang.dotted+'</option><option value="dashed" '+("dashed"==s?"selected":"")+">"+biolang.dashed+"</option></select></div></div></div></div></div>";$("#linkcontent").append(i),$("[data-id="+t+"] input[data-trigger=color]").spectrum({color:l,showInput:!0,preferredFormat:"hex",move:function(a){setColor("#"+t,a,$(this))},hide:function(a){setColor("#"+t,a,$(this)),saveBio()}})}function fnrss(a,e=null,t=null){let l=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i;if(e)var s=e.link;else s="";null==t&&(t=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=rss] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="container-'+t+'"><div class="col-md-12"><div class="form-group"><label class="form-label fw-bold">'+biolang.link+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="rss"><input type="link" class="form-control p-2" name="data['+slug(t)+'][link]" value="'+s+'" placeholder="e.g. https://"></div></div></div></div></div>';$("#linkcontent").append(o),$("#container-"+t+" input[type=link]").change(function(a){if(!$(this).val().match(l))return a.preventDefault(),$.notify({message:biolang.error.rss},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fnimage(a,e=null,t=null){if(e)var l=e.link,s=e.link2;else l="",s="";null==t&&(t=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=image] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="container-'+t+'"><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.link+' 1</label><input type="text" name="data['+slug(t)+'][link]" class="form-control p-2" placeholder="e.g. https://" value="'+l+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.file+' 1</label><input type="hidden" name="data['+slug(t)+'][type]" value="image"><input type="file" class="form-control p-2" name="'+slug(t)+'" data-for="'+t+'" accept=".jpg, .png"></div></div><div class="col-md-6 mt-2"><div class="form-group"><label class="form-label fw-bold">'+biolang.link+' 2</label><input type="text" name="data['+slug(t)+'][link2]" class="form-control p-2" placeholder="e.g. https://" value="'+s+'"></div></div><div class="col-md-6 mt-2"><div class="form-group"><label class="form-label fw-bold">'+biolang.file+' 2</label><input type="file" class="form-control p-2" name="'+slug(t)+'-2" data-for="'+t+'" accept=".jpg, .png"></div></div></div></div></div>';$("#linkcontent").append(o)}function fnnewsletter(a,e=null,t=null){if(e)var l=e.text;else l="";null==t&&(t=(Math.random()+1).toString(36).substring(2));let s='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=newsletter] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="container-'+t+'"><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.text+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="newsletter"><input type="text" class="form-control p-2" name="data['+slug(t)+'][text]" value="'+l+'"></div></div></div></div></div>';$("#linkcontent").append(s)}function fncontact(a,e=null,t=null){if(e)var l=e.text,s=e.email;else l="",s="";null==t&&(t=(Math.random()+1).toString(36).substring(2))
;let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=contact] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="container-'+t+'"><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.text+'</label><input type="text" class="form-control p-2 text" name="data['+slug(t)+'][text]" value="'+l+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.email+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="contact"><input type="text" class="form-control p-2" name="data['+slug(t)+'][email]" value="'+s+'"></div></div></div></div></div>';$("#linkcontent").append(o)}function fnvcard(a,e=null,t=null){if(e)var l=e.button,s=e.fname,o=e.lname,i=e.phone,n=e.cell,r=e.fax,d=e.email,c=e.company,p=e.address,m=e.city,f=e.state,g=e.country,u=e.zip,v=e.site;else l="",s="",o="",i="",n="",r="",c="",d="",p="",m="",f="",g="",v="",u="";null==t&&(t=(Math.random()+1).toString(36).substring(2));let b='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=vcard] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse" id="container-'+t+'"><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.fname+'</label><input type="text" class="form-control p-2 text" name="data['+slug(t)+'][fname]" value="'+s+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.lname+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="vcard"><input type="text" class="form-control p-2" name="data['+slug(t)+'][lname]" value="'+o+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.email+'</label><input type="text" class="form-control p-2 text" name="data['+slug(t)+'][email]" value="'+d+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.phone+'</label><input type="text" class="form-control p-2" name="data['+slug(t)+'][phone]" value="'+i+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.cell+'</label><input type="text" class="form-control p-2 text" name="data['+slug(t)+'][cell]" value="'+n+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.fax+'</label><input type="text" class="form-control p-2" name="data['+slug(t)+'][fax]" value="'+r+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.site+'</label><input type="text" class="form-control p-2 text" name="data['+slug(t)+'][site]" value="'+v+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.company+'</label><input type="text" class="form-control p-2 text" name="data['+slug(t)+'][company]" value="'+c+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.address+'</label><input type="text" class="form-control p-2" name="data['+slug(t)+'][address]" value="'+p+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.city+'</label><input type="text" class="form-control p-2 text" name="data['+slug(t)+'][city]" value="'+m+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.state+'</label><input type="text" class="form-control p-2" name="data['+slug(t)+'][state]" value="'+f+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.zip+'</label><input type="text" class="form-control p-2 text" name="data['+slug(t)+'][zip]" value="'+u+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.country+'</label><input type="text" class="form-control p-2 text" name="data['+slug(t)+'][country]" value="'+g+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.text+'</label><input type="text" class="form-control p-2" data-trigger="vcardbutton" name="data['+slug(t)+'][button]" value="'+l+'"></div></div></div></div></div></div>';$("#linkcontent").append(b)}function fnproduct(a,e=null,t=null){if(e)var l=e.name,s=e.description,o=e.amount,i=e.link;else l="",s="",o="",i="";null==t&&(t=(Math.random()+1).toString(36).substring(2));let n='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=product] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse" id="container-'+t+'"><div class="row mt-2"><div class="col-md-12 mb-2"><div class="form-group"><label class="form-label fw-bold">'+biolang.text+'</label><input type="text" class="form-control p-2 text" name="data['+slug(t)+'][name]" value="'+l+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.description+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="product"><input type="text" class="form-control p-2" name="data['+slug(t)+'][description]" placeholder="e.g. $9.99"  value="'+s+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.amount+'</label><input type="text" class="form-control p-2" name="data['+slug(t)+'][amount]" placeholder="e.g. $9.99"  value="'+o+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.file+'</label><input type="file" class="form-control p-2 text" name="'+slug(t)+'" accept=".jpg, .png" value=""></div></div><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.link+'</label><input type="text" class="form-control p-2" name="data['+slug(t)+'][link]" value="'+i+'" placeholder="http://"></div></div></div></div></div></div>';$("#linkcontent").append(n)}function fnhtml(a,e=null,t=null){if(e)var l=e.html;else l="";null==t&&(t=(Math.random()+1).toString(36).substring(2));let s='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=html] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="container-'+t+'"><div class="col-md-12"><div class="form-group"><label class="form-label fw-bold">HTML</label><input type="hidden" name="data['+slug(t)+'][type]" value="html"><textarea class="form-control p-2" name="data['+slug(t)+'][html]" placeholder="e.g. some description here">'+l+"</textarea></div></div></div></div></div>";$("#linkcontent").append(s)}function fnopensea(a,e=null,t=null){let l=/^https?:\/\/(www.)?(opensea.io)\/assets\/(.*)\/(.*)\/(.*)/i;if(e)var s=e.link;else s="";null==t&&(t=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=opensea] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="container-'+t+'"><div class="col-md-12"><div class="form-group"><label class="form-label fw-bold">'+biolang.link+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="opensea"><input type="text" class="form-control p-2" name="data['+slug(t)+'][link]" value="'+s+'" placeholder="e.g. https://"></div></div></div></div></div>';$("#linkcontent").append(o),$("#container-"+t+" input[type=text]").change(function(a){if(!$(this).val().match(l))return a.preventDefault(),$.notify({message:biolang.error.opensea},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fntwitter(a,e=null,t=null){let l=/^https?:\/\/(www.)?(twitter.com)\/(.*)/i;if(e)var s=e.link,o=e.amount;else s="",o=1;parseInt(o)||(o=1),null==t&&(t=(Math.random()+1).toString(36).substring(2));let i='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=twitter] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="container-'+t+'"><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.link+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="twitter"><input type="text" class="form-control p-2" name="data['+slug(t)+'][link]" value="'+s+'" placeholder="e.g. https://"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.amount+'</label><input type="number" class="form-control p-2" name="data['+slug(t)+'][amount]" value="'+o+'" placeholder="e.g. 2"></div></div></div></div></div>';$("#linkcontent").append(i),$("#container-"+t+" input[type=text]").change(function(a){if(!$(this).val().match(l))return a.preventDefault(),$.notify({message:biolang.error.twitter},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fnsoundcloud(a,e=null,t=null){let l=/^https?:\/\/(www.)?(soundcloud.com)\/(.*)/i;if(e)var s=e.link;else s="";null==t&&(t=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=soundcloud] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="container-'+t+'"><div class="col-md-12"><div class="form-group"><label class="form-label fw-bold">'+biolang.link+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="soundcloud"><input type="text" class="form-control p-2" name="data['+slug(t)+'][link]" value="'+s+'" placeholder="e.g. https://"></div></div></div></div></div>';$("#linkcontent").append(o),$("#container-"+t+" input[type=text]").change(function(a){if(!$(this).val().match(l))return a.preventDefault(),$.notify({message:biolang.error.soundcloud},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fnfacebook(a,e=null,t=null){let l=/^https?:\/\/(www.)?(((.*).)?facebook.com)\/(.*)/i;if(e)var s=e.link;else s="";null==t&&(t=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=facebook] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="container-'+t+'"><div class="col-md-12"><div class="form-group"><label class="form-label fw-bold">'+biolang.link+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="facebook"><input type="text" class="form-control p-2" name="data['+slug(t)+'][link]" value="'+s+'" placeholder="e.g. https://"></div></div></div></div></div>';$("#linkcontent").append(o),$("#container-"+t+" input[type=text]").change(function(a){if(!$(this).val().match(l))return a.preventDefault(),$.notify({message:biolang.error.facebook},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fninstagram(a,e=null,t=null){let l=/^https?:\/\/(www.)?(((.*).)?instagram.com)\/(.*)/i;if(e)var s=e.link;else s="";null==t&&(t=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=instagram] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="container-'+t+'"><div class="col-md-12"><div class="form-group"><label class="form-label fw-bold">'+biolang.link+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="instagram"><input type="text" class="form-control p-2" name="data['+slug(t)+'][link]" value="'+s+'" placeholder="e.g. https://"></div></div></div></div></div>';$("#linkcontent").append(o),$("#container-"+t+" input[type=text]").change(function(a){if(!$(this).val().match(l))return a.preventDefault(),$.notify({message:biolang.error.instagram},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fntypeform(a,e=null,t=null){let l=/^https?:\/\/(www.)?(((.*).)?typeform.com)\/(.*)/i;if(e)var s=e.name,o=e.link;else s="",o="";null==t&&(t=(Math.random()+1).toString(36).substring(2));let i='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=typeform] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="container-'+t+'"><div class="col-md-12"><div class="form-group mb-2"><label class="form-label fw-bold">'+biolang.text+'</label><input type="text" class="form-control p-2" name="data['+slug(t)+'][name]" value="'+s+'" placeholder="e.g. survey"></div><div class="form-group"><label class="form-label fw-bold">'+biolang.link+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="typeform"><input type="text" class="form-control p-2" name="data['+slug(t)+'][link]" data-link value="'+o+'" placeholder="e.g. https://"></div></div></div></div></div>';$("#linkcontent").append(i),$("#container-"+t+" [data-link]").change(function(a){if(!$(this).val().match(l))return a.preventDefault(),$.notify({message:biolang.error.typeform},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fnpinterest(a,e=null,t=null){let l=/^https?:\/\/(www.)?(((.*).)?pinterest.com)\/(.*)/i;if(e)var s=e.name,o=e.link;else s="",o="";null==t&&(t=(Math.random()+1).toString(36).substring(2));let i='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=pinterest] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="container-'+t+'"><div class="col-md-12"><div class="form-group mb-2"><label class="form-label fw-bold">'+biolang.text+'</label><input type="text" class="form-control p-2" name="data['+slug(t)+'][name]" value="'+s+'" placeholder="e.g. My Board"></div><div class="form-group"><label class="form-label fw-bold">'+biolang.link+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="pinterest"><input type="text" class="form-control p-2" name="data['+slug(t)+'][link]" data-link value="'+o+'" placeholder="e.g. https://"></div></div></div></div></div>';$("#linkcontent").append(i),$("#container-"+t+" [data-link]").change(function(a){if(!$(this).val().match(l))return a.preventDefault(),$.notify({message:biolang.error.pinterest},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fnreddit(a,e=null,t=null){let l=/^https?:\/\/(www.)?(((.*).)?reddit.com)\/user\/(.*)/i;if(e)var s=e.name,o=e.link;else s="",o="";null==t&&(t=(Math.random()+1).toString(36).substring(2));let i='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=reddit] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="container-'+t+'"><div class="col-md-12"><div class="form-group mb-2"><label class="form-label fw-bold">'+biolang.text+'</label><input type="text" class="form-control p-2" name="data['+slug(t)+'][name]" value="'+s+'" placeholder="e.g. My Profile"></div><div class="form-group"><label class="form-label fw-bold">'+biolang.link+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="reddit"><input type="text" class="form-control p-2" name="data['+slug(t)+'][link]" data-link value="'+o+'" placeholder="e.g. https://www.reddit.com/user/..."></div></div></div></div></div>';$("#linkcontent").append(i),$("#container-"+t+" [data-link]").change(function(a){if(!$(this).val().match(l))return a.preventDefault(),$.notify({message:biolang.error.reddit},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fncalendly(a,e=null,t=null){let l=/^https?:\/\/(www.)?(((.*).)?calendly.com)\/(.*)/i;if(e)var s=e.name,o=e.link;else s="",o="";null==t&&(t=(Math.random()+1).toString(36).substring(2));let i='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=calendly] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="container-'+t+'"><div class="col-md-12"><div class="form-group mb-2"><label class="form-label fw-bold">'+biolang.text+'</label><input type="text" class="form-control p-2" name="data['+slug(t)+'][name]" value="'+s+'" placeholder="e.g. Book"></div><div class="form-group"><label class="form-label fw-bold">'+biolang.link+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="calendly"><input type="text" class="form-control p-2" name="data['+slug(t)+'][link]" data-link value="'+o+'" placeholder="e.g. https://calendly.com/..."></div></div></div></div></div>';$("#linkcontent").append(i),$("#container-"+t+" [data-link]").change(function(a){if(!$(this).val().match(l))return a.preventDefault(),$.notify({message:biolang.error.calendly},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fnthreads(a,e=null,t=null){let l=/^https?:\/\/(www.)?(((.*).)?threads.net)\/(.*)\/post\/(.*)/i;if(e)var s=e.link;else s="";null==t&&(t=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=threads] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="container-'+t+'"><div class="col-md-12"><div class="form-group"><label class="form-label fw-bold">'+biolang.link+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="threads"><input type="text" class="form-control p-2" name="data['+slug(t)+'][link]" data-link value="'+s+'" placeholder="e.g. https://www.threads.net/@.../post/..."></div></div></div></div></div>';$("#linkcontent").append(o),$("#container-"+t+" [data-link]").change(function(a){if(!$(this).val().match(l))return a.preventDefault(),$.notify({message:biolang.error.threads},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fngooglemaps(a,e=null,t=null){if(e)var l=e.address;else l="";null==t&&(t=(Math.random()+1).toString(36).substring(2));let s='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=googlemaps] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="container-'+t+'"><div class="col-md-12"><div class="form-group"><label class="form-label fw-bold">'+biolang.address+'</label><input type="hidden" name="data['+slug(t)+'][type]" value="googlemaps"><input type="text" class="form-control p-2" name="data['+slug(t)+'][address]" value="'+l+'" placeholder="e.g. 1 Apple Park Way"></div></div></div></div></div>';$("#linkcontent").append(s)}function fntagline(a,e=null,t=null){if(e)var l=e.text;else l="";let s='<div class="px-1 pt-1 border rounded widget mb-2" data-id="bio-tag"><div class="d-flex align-items-center"><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#bio-tagContainer" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=tagline] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="bio-tagContainer"><div class="col-md-12"><div class="form-group"><input type="hidden" name="data[bio-tag][type]" value="tagline"><input type="text" class="form-control p-2" name="data[bio-tag][text]" value="'+l+'"></div></div></div></div></div>';$("#linkcontent").prepend(s)}function fnfaqs(a,e=null,t=null){if(e)var l=e.question,s=e.answer;else l=[],s=[];null==t&&(t=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+t+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+t+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=faqs] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse" id="container-'+t+'"><input type="hidden" name="data['+slug(t)+'][type]" value="faqs"><div class="faq-holder">';l.forEach(function(a,e){o+='<div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.question+'</label><input type="text" class="form-control p-2" name="data['+slug(t)+'][question][]" value="'+a+'"><button type="button" data-trigger="deletefaq" class="btn btn-sm btn-danger mt-1">'+biolang.delete+'</button></div></div><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.answer+'</label><textarea class="form-control p-2" name="data['+slug(t)+'][answer][]">'+s[e]+"</textarea></div></div></div>"}),o+='</div><button type="button" data-trigger="addfaq" class="btn btn-primary mt-3">'+biolang.addfaq+"</button></div></div></div>",$("#linkcontent").append(o),$("[data-trigger=addfaq]").click(function(a){a.preventDefault(),$("#container-"+t+" button[data-trigger=addfaq]").before('<div class="faq-holder row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.question+'</label><input type="text" class="form-control p-2" name="data['+slug(t)+'][question][]" value=""><button type="button" data-trigger="deletefaq" class="btn btn-sm btn-danger mt-1">'+biolang.delete+'</button></div></div><div class="col-md-6"><div class="form-group"><label class="form-label fw-bold">'+biolang.answer+'</label><textarea class="form-control p-2" name="data['+slug(t)+'][answer][]"></textarea></div></div></div>')}),$(document).on("click","[data-trigger=deletefaq]",function(a){a.preventDefault(),$(this).parents(".faq-holder").fadeOut("fast",function(){$(this).remove()})})}function bioupdate(){for(bio in biodata){let a="fn"+biodata[bio].type;window[a]($("[data-type="+biodata[bio].type+"]"),biodata[bio],bio)}}function slug(a){a=encodeURIComponent(a),a=a.replace(/^\s+|\s+$/g,""),a=a.toLowerCase();for(var e="àáäâèéëêìíïîòóöôùúüûñç·/_,:;",t="aaaaeeeeiiiioooouuuunc------",l=0,s=e.length;l<s;l++)a=a.replace(new RegExp(e.charAt(l),"g"),t.charAt(l));return a=a.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),a}!function(a,e,t,l){function s(a,e){var t=Math.max(0,a[0]-e[0],e[0]-a[1]),l=Math.max(0,a[2]-e[1],e[1]-a[3]);return t+l}function o(e,t,l,s){var o=e.length,i=s?"offset":"position";for(l=l||0;o--;){var n=e[o].el?e[o].el:a(e[o]),r=n[i]();r.left+=parseInt(n.css("margin-left"),10),r.top+=parseInt(n.css("margin-top"),10),t[o]=[r.left-l,r.left+n.outerWidth()+l,r.top-l,r.top+n.outerHeight()+l]}}function i(a,e){var t=e.offset();return{left:a.left-t.left,top:a.top-t.top}}function n(a,e,t){e=[e.left,e.top],t=t&&[t.left,t.top];for(var l,o=a.length,i=[];o--;)l=a[o],i[o]=[o,s(l,e),t&&s(l,t)];return i=i.sort(function(a,e){return e[1]-a[1]||e[2]-a[2]||e[0]-a[0]}),i}function r(e){this.options=a.extend({},p,e),this.containers=[],this.options.rootGroup||(this.scrollProxy=a.proxy(this.scroll,this),this.dragProxy=a.proxy(this.drag,this),this.dropProxy=a.proxy(this.drop,this),this.placeholder=a(this.options.placeholder),e.isValidTarget||(this.options.isValidTarget=l))}function d(e,t){this.el=e,this.options=a.extend({},c,t),this.group=r.get(this.options),this.rootGroup=this.options.rootGroup||this.group,this.handle=this.rootGroup.options.handle||this.rootGroup.options.itemSelector;var l=this.rootGroup.options.itemPath;this.target=l?this.el.find(l):this.el,this.target.on(u.start,this.handle,a.proxy(this.dragInit,this)),this.options.drop&&this.group.containers.push(this)}var c={drag:!0,drop:!0,exclude:"",nested:!0,vertical:!0},p={afterMove:function(a,e,t){},containerPath:"",containerSelector:"ol, ul",distance:0,delay:0,handle:"",itemPath:"",itemSelector:"li",bodyClass:"dragging",draggedClass:"dragged",isValidTarget:function(a,e){return!0},onCancel:function(a,e,t,l){},onDrag:function(a,e,t,l){a.css(e)},onDragStart:function(e,t,l,s){e.css({height:e.outerHeight(),width:e.outerWidth()}),e.addClass(t.group.options.draggedClass),a("body").addClass(t.group.options.bodyClass)},onDrop:function(e,t,l,s){e.removeClass(t.group.options.draggedClass).removeAttr("style"),a("body").removeClass(t.group.options.bodyClass)},onMousedown:function(a,e,t){if(!t.target.nodeName.match(/^(input|select|textarea)$/i))return t.preventDefault(),!0},placeholderClass:"placeholder",placeholder:'<li class="placeholder"></li>',pullPlaceholder:!0,serialize:function(e,t,l){var s=a.extend({},e.data());return l?[t]:(t[0]&&(s.children=t),delete s.subContainers,delete s.sortable,s)},tolerance:0},m={},f=0,g={left:0,top:0,bottom:0,right:0},u={start:"touchstart.sortable mousedown.sortable",drop:"touchend.sortable touchcancel.sortable mouseup.sortable",drag:"touchmove.sortable mousemove.sortable",scroll:"scroll.sortable"},v="subContainers";r.get=function(a){return m[a.group]||(a.group===l&&(a.group=f++),m[a.group]=new r(a)),m[a.group]},r.prototype={dragInit:function(e,t){this.$document=a(t.el[0].ownerDocument);var l=a(e.target).closest(this.options.itemSelector);if(l.length){if(this.item=l,
this.itemContainer=t,this.item.is(this.options.exclude)||!this.options.onMousedown(this.item,p.onMousedown,e))return;this.setPointer(e),this.toggleListeners("on"),this.setupDelayTimer(),this.dragInitDone=!0}},drag:function(a){if(!this.dragging){if(!this.distanceMet(a)||!this.delayMet)return;this.options.onDragStart(this.item,this.itemContainer,p.onDragStart,a),this.item.before(this.placeholder),this.dragging=!0}this.setPointer(a),this.options.onDrag(this.item,i(this.pointer,this.item.offsetParent()),p.onDrag,a);var e=this.getPointer(a),t=this.sameResultBox,s=this.options.tolerance;(!t||t.top-s>e.top||t.bottom+s<e.top||t.left-s>e.left||t.right+s<e.left)&&(this.searchValidTarget()||(this.placeholder.detach(),this.lastAppendedItem=l))},drop:function(a){this.toggleListeners("off"),this.dragInitDone=!1,this.dragging&&(this.placeholder.closest("html")[0]?this.placeholder.before(this.item).detach():this.options.onCancel(this.item,this.itemContainer,p.onCancel,a),this.options.onDrop(this.item,this.getContainer(this.item),p.onDrop,a),this.clearDimensions(),this.clearOffsetParent(),this.lastAppendedItem=this.sameResultBox=l,this.dragging=!1)},searchValidTarget:function(a,e){a||(a=this.relativePointer||this.pointer,e=this.lastRelativePointer||this.lastPointer);for(var t=n(this.getContainerDimensions(),a,e),s=t.length;s--;){var o=t[s][0],r=t[s][1];if(!r||this.options.pullPlaceholder){var d=this.containers[o];if(!d.disabled){if(!this.$getOffsetParent()){var c=d.getItemOffsetParent();a=i(a,c),e=i(e,c)}if(d.searchValidTarget(a,e))return!0}}}this.sameResultBox&&(this.sameResultBox=l)},movePlaceholder:function(a,e,t,l){var s=this.lastAppendedItem;!l&&s&&s[0]===e[0]||(e[t](this.placeholder),this.lastAppendedItem=e,this.sameResultBox=l,this.options.afterMove(this.placeholder,a,e))},getContainerDimensions:function(){return this.containerDimensions||o(this.containers,this.containerDimensions=[],this.options.tolerance,!this.$getOffsetParent()),this.containerDimensions},getContainer:function(a){return a.closest(this.options.containerSelector).data(t)},$getOffsetParent:function(){if(this.offsetParent===l){var a=this.containers.length-1,e=this.containers[a].getItemOffsetParent();if(!this.options.rootGroup)for(;a--;)if(e[0]!=this.containers[a].getItemOffsetParent()[0]){e=!1;break}this.offsetParent=e}return this.offsetParent},setPointer:function(a){var e=this.getPointer(a);if(this.$getOffsetParent()){var t=i(e,this.$getOffsetParent());this.lastRelativePointer=this.relativePointer,this.relativePointer=t}this.lastPointer=this.pointer,this.pointer=e},distanceMet:function(a){var e=this.getPointer(a);return Math.max(Math.abs(this.pointer.left-e.left),Math.abs(this.pointer.top-e.top))>=this.options.distance},getPointer:function(a){var e=a.originalEvent||a.originalEvent.touches&&a.originalEvent.touches[0];return{left:a.pageX||e.pageX,top:a.pageY||e.pageY}},setupDelayTimer:function(){var a=this;this.delayMet=!this.options.delay,this.delayMet||(clearTimeout(this._mouseDelayTimer),this._mouseDelayTimer=setTimeout(function(){a.delayMet=!0},this.options.delay))},scroll:function(a){this.clearDimensions(),this.clearOffsetParent()},toggleListeners:function(e){var t=this,l=["drag","drop","scroll"];a.each(l,function(a,l){t.$document[e](u[l],t[l+"Proxy"])})},clearOffsetParent:function(){this.offsetParent=l},clearDimensions:function(){this.traverse(function(a){a._clearDimensions()})},traverse:function(a){a(this);for(var e=this.containers.length;e--;)this.containers[e].traverse(a)},_clearDimensions:function(){this.containerDimensions=l},_destroy:function(){m[this.options.group]=l}},d.prototype={dragInit:function(a){var e=this.rootGroup;!this.disabled&&!e.dragInitDone&&this.options.drag&&this.isValidDrag(a)&&e.dragInit(a,this)},isValidDrag:function(a){return 1==a.which||"touchstart"==a.type&&1==a.originalEvent.touches.length},searchValidTarget:function(a,e){var t=n(this.getItemDimensions(),a,e),l=t.length,s=this.rootGroup,o=!s.options.isValidTarget||s.options.isValidTarget(s.item,this);if(!l&&o)return s.movePlaceholder(this,this.target,"append"),!0;for(;l--;){var i=t[l][0],r=t[l][1];if(!r&&this.hasChildGroup(i)){var d=this.getContainerGroup(i).searchValidTarget(a,e);if(d)return!0}else if(o)return this.movePlaceholder(i,a),!0}},movePlaceholder:function(e,t){var l=a(this.items[e]),s=this.itemDimensions[e],o="after",i=l.outerWidth(),n=l.outerHeight(),r=l.offset(),d={left:r.left,right:r.left+i,top:r.top,bottom:r.top+n};if(this.options.vertical){var c=(s[2]+s[3])/2,p=t.top<=c;p?(o="before",d.bottom-=n/2):d.top+=n/2}else{var m=(s[0]+s[1])/2,f=t.left<=m;f?(o="before",d.right-=i/2):d.left+=i/2}this.hasChildGroup(e)&&(d=g),this.rootGroup.movePlaceholder(this,l,o,d)},getItemDimensions:function(){return this.itemDimensions||(this.items=this.$getChildren(this.el,"item").filter(":not(."+this.group.options.placeholderClass+", ."+this.group.options.draggedClass+")").get(),o(this.items,this.itemDimensions=[],this.options.tolerance)),this.itemDimensions},getItemOffsetParent:function(){var a,e=this.el;return a="relative"===e.css("position")||"absolute"===e.css("position")||"fixed"===e.css("position")?e:e.offsetParent(),a},hasChildGroup:function(a){return this.options.nested&&this.getContainerGroup(a)},getContainerGroup:function(e){var s=a.data(this.items[e],v);if(s===l){var o=this.$getChildren(this.items[e],"container");if(s=!1,o[0]){var i=a.extend({},this.options,{rootGroup:this.rootGroup,group:f++});s=o[t](i).data(t).group}a.data(this.items[e],v,s)}return s},$getChildren:function(e,t){var l=this.rootGroup.options,s=l[t+"Path"],o=l[t+"Selector"];return e=a(e),s&&(e=e.find(s)),e.children(o)},_serialize:function(e,t){var l=this,s=t?"item":"container",o=this.$getChildren(e,s).not(this.options.exclude).map(function(){return l._serialize(a(this),!t)}).get();return this.rootGroup.options.serialize(e,o,t)},traverse:function(e){a.each(this.items||[],function(t){var l=a.data(this,v);l&&l.traverse(e)}),e(this)},_clearDimensions:function(){this.itemDimensions=l},_destroy:function(){var e=this;this.target.off(u.start,this.handle),this.el.removeData(t),this.options.drop&&(this.group.containers=a.grep(this.group.containers,function(a){return a!=e})),a.each(this.items||[],function(){a.removeData(this,v)})}};var b={enable:function(){this.traverse(function(a){a.disabled=!1})},disable:function(){this.traverse(function(a){a.disabled=!0})},serialize:function(){return this._serialize(this.el,!0)},refresh:function(){this.traverse(function(a){a._clearDimensions()})},destroy:function(){this.traverse(function(a){a._destroy()})}};a.extend(d.prototype,b),a.fn[t]=function(e){var s=Array.prototype.slice.call(arguments,1);return this.map(function(){var o=a(this),i=o.data(t);return i&&b[e]?b[e].apply(i,s)||this:(i||e!==l&&"object"!=typeof e||o.data(t,new d(o,e)),this)})}}(jQuery,window,"sortable");let iframesrc=$(".card-preview iframe").attr("src");$(document).ready(function(){$(document).on("change","input,textarea,select",function(){saveBio()}),$(document).on("submit","form",function(a){a.preventDefault(),saveBio()}),$("[data-trigger=switcher]").click(function(a){if(a.preventDefault(),$(this).hasClass("active"))return!1;$(".switcher").fadeOut("fast"),$($(this).attr("href")).show(),$(this).parents(".nav").find("a").removeClass("active"),$(this).addClass("active")}),$("[data-trigger=bgtype]").click(function(){if($(this).hasClass("active"))return!1;$(".bgtype").fadeOut("fast").removeClass("show"),$($(this).attr("href")).addClass("show"),$("[data-trigger=bgtype]").removeClass("active"),$(this).addClass("active")});var a=[];$("[data-trigger=addsocial]").click(function(e){e.preventDefault();let t=$(this).parents(".card").find("select[name=platform]").val(),l=$(this).parents(".card").find("input[name=socialink]").val(),s=/(?:https?):\/\/(\w+:?\w*)?(\S+)(:\d+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/;if(l.length<5||!s.test(l))return $.notify({message:$(this).data("error")},{type:"danger",placement:{from:"top",align:"right"}}),!1;if(a.includes(t))return $.notify({message:$(this).data("error-alt")},{type:"danger",placement:{from:"top",align:"right"}}),!1;a.push(t);let o='<div class="input-group mb-3 border rounded p-2"><div class="input-group-text bg-white"><i class="fab fa-'+t+'"></i></div><input type="text" class="form-control p-2" name="social['+t+']" placeholder="https://" value="'+l+'"></div>';$("#sociallinksholder").removeClass("d-none").append(o),saveBio()}),$(document).on("click","[data-trigger=removesocial]",function(a){a.preventDefault(),$(this).parents(".input-group").fadeOut("medium",function(){$(this).remove(),saveBio()})}),$("[data-trigger=bgtype]").click(function(){$("[data-trigger=bgtype]").removeClass("border-secondary");let a=$(this).attr("href").replace("#","");$("input[name=mode]").val(a),$("input[name=theme]").val(""),$("#singlecolor,#gradient,#image").removeAttr("style"),$(this).addClass("border-secondary"),saveBio()}),$("[data-trigger=choosefont]").on("click",function(){$("[data-trigger=choosefont]").removeClass("border-secondary"),$(this).addClass("border-secondary")}),$("[data-trigger=chooselayout]").on("click",function(){$("[data-trigger=chooselayout]").removeClass("border-secondary"),$(this).addClass("border-secondary"),"layout2"==$(this).data("value")||"layout3"==$(this).data("value")?$("#layoutbanner").addClass("show"):$("#layoutbanner").removeClass("show")}),$("#linkcontent").sortable({containerSelector:"#linkcontent",handle:".handle",itemSelector:".sortable",placeholder:'<div class="card p-4 bg-secondary shadow-none border"></div>',onMousedown:function(a,e,t){if(!t.target.nodeName.match(/^(input|select|textarea)$/i))return t.preventDefault(),!0},onDrop:function(a,e,t,l){a.removeClass(e.group.options.draggedClass).removeAttr("style"),$("body").removeClass(e.group.options.bodyClass),saveBio()}}),$("[data-trigger=insertcontent]").click(function(a){a.preventDefault();let e="fn"+$(this).data("type");if($(".alt-error").remove(),void 0!==e){let a=window[e]($(this));if(!1===a)return;$("#contentModal div").removeClass("show"),$("#options").addClass("show"),$("#contentModal .btn-close").click(),saveBio()}}),$(document).on("click","[data-trigger=removeCard]",function(a){a.preventDefault();let e=$(this).parents(".widget").data("id");$("a[data-trigger=confirmremove]").data("id",e)}),$(document).on("click","[data-trigger=confirmremove]",function(a){a.preventDefault();let e=$(this).data("id");$("[data-id="+e+"]").remove(),$("#preview").find("#"+e).parent(".item").remove(),$("#removecard .btn-close").click(),saveBio()}),$("#dividercolor").spectrum({color:"#000000",showInput:!0,preferredFormat:"hex"}),$("#avatar").change(function(){for(var a,e=$(this).prop("files"),t=0;a=e[t];t++)if(!["image/jpeg","image/jpg","image/png"].includes(a.type)||a.size>512e3)$.notify({message:$("#avatar").data("error")},{type:"danger",placement:{from:"top",align:"right"}});else{var l=new FileReader;l.onload=function(a){$("#useravatar").attr("src",a.target.result)},l.readAsDataURL(a)}}),$("[data-trigger=uploadavatar]").click(function(a){a.preventDefault(),$("#avatar").click()}),$("#bgimage").change(function(){for(var a,e=$(this).prop("files"),t=0;a=e[t];t++)(!["image/jpeg","image/jpg","image/png"].includes(a.type)||a.size>1048576)&&$.notify({message:$("#bgimage").data("error")},{type:"danger",placement:{from:"top",align:"right"}})}),$("[data-trigger=color]").each(function(){var a="#000000";$(this).data("default")&&(a=$(this).data("default")),$(this).spectrum({color:a,showInput:!0,preferredFormat:"hex"})}),$("[data-trigger=changetheme]").click(function(){saveBio()})});